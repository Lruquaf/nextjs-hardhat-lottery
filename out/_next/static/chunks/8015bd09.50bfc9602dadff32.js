"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8766],{59917:function(e,t,r){r.d(t,{RG:function(){return tt},nh:function(){return G}});var n,i,a=r(15671),o=r(43144),s=r(48764),u=r(75113),c=r(15861),l=r(60136),d=r(82963),f=r(61120),y=r(64687),h=r.n(y),p=r(13384),g=r.n(p),b=r(10011),k=r.n(b),m=r(17748),v=r(25532),I=r(39386),S=r(86854),x=r(40475),w=r(4942),A=r(41451),P=r(53471);r(31198);var _=r(16512);r(66855),r(89062);var R=r(85609),B=r(95085);u.UN.utils.randomPrivateKey;var Z=function(){var e=u.UN.utils.randomPrivateKey(),t=W(e),r=new Uint8Array(64);return r.set(e),r.set(t,32),{publicKey:t,secretKey:r}},W=u.UN.getPublicKey;function O(e){try{return u.UN.ExtendedPoint.fromHex(e),!0}catch(e){return!1}}var z=function(e,t){return u.UN.sign(e,t.slice(0,32))},K=u.UN.verify,E=function(e){return s.Buffer.isBuffer(e)?e:e instanceof Uint8Array?s.Buffer.from(e.buffer,e.byteOffset,e.byteLength):s.Buffer.from(e)},T=function(){function e(t){(0,a.Z)(this,e),Object.assign(this,t)}return(0,o.Z)(e,[{key:"encode",value:function(){return s.Buffer.from((0,v.serialize)(j,this))}}],[{key:"decode",value:function(e){return(0,v.deserialize)(j,this,e)}},{key:"decodeUnchecked",value:function(e){return(0,v.deserializeUnchecked)(j,this,e)}}]),e}(),j=new Map,q=1;i=Symbol.toStringTag;var G=function(e){(0,l.Z)(p,e);var t,r,n,u,y=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=(0,f.Z)(p);if(t){var n=(0,f.Z)(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return(0,d.Z)(this,e)});function p(e){var t;if((0,a.Z)(this,p),(t=y.call(this,{}))._bn=void 0,void 0!==e._bn)t._bn=e._bn;else{if("string"==typeof e){var r=k().decode(e);if(32!=r.length)throw Error("Invalid public key input");t._bn=new(g())(r)}else t._bn=new(g())(e);if(t._bn.byteLength()>32)throw Error("Invalid public key input")}return t}return(0,o.Z)(p,[{key:"equals",value:function(e){return this._bn.eq(e._bn)}},{key:"toBase58",value:function(){return k().encode(this.toBytes())}},{key:"toJSON",value:function(){return this.toBase58()}},{key:"toBytes",value:function(){var e=this.toBuffer();return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}},{key:"toBuffer",value:function(){var e=this._bn.toArrayLike(s.Buffer);if(32===e.length)return e;var t=s.Buffer.alloc(32);return e.copy(t,32-e.length),t}},{key:i,get:function(){return"PublicKey(".concat(this.toString(),")")}},{key:"toString",value:function(){return this.toBase58()}}],[{key:"unique",value:function(){var e=new p(q);return q+=1,new p(e.toBuffer())}},{key:"createWithSeed",value:(r=(0,c.Z)(h().mark(function e(t,r,n){var i,a;return h().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=s.Buffer.concat([t.toBuffer(),s.Buffer.from(r),n.toBuffer()]),a=(0,m.J)(i),e.abrupt("return",new p(a));case 3:case"end":return e.stop()}},e)})),function(e,t,n){return r.apply(this,arguments)})},{key:"createProgramAddressSync",value:function(e,t){var r=s.Buffer.alloc(0);e.forEach(function(e){if(e.length>32)throw TypeError("Max seed length exceeded");r=s.Buffer.concat([r,E(e)])}),r=s.Buffer.concat([r,t.toBuffer(),s.Buffer.from("ProgramDerivedAddress")]);var n=(0,m.J)(r);if(O(n))throw Error("Invalid seeds, address must fall off the curve");return new p(n)}},{key:"createProgramAddress",value:(n=(0,c.Z)(h().mark(function e(t,r){return h().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.createProgramAddressSync(t,r));case 1:case"end":return e.stop()}},e,this)})),function(e,t){return n.apply(this,arguments)})},{key:"findProgramAddressSync",value:function(e,t){for(var r,n=255;0!=n;){try{var i=e.concat(s.Buffer.from([n]));r=this.createProgramAddressSync(i,t)}catch(e){if(e instanceof TypeError)throw e;n--;continue}return[r,n]}throw Error("Unable to find a viable program address nonce")}},{key:"findProgramAddress",value:(u=(0,c.Z)(h().mark(function e(t,r){return h().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.findProgramAddressSync(t,r));case 1:case"end":return e.stop()}},e,this)})),function(e,t){return u.apply(this,arguments)})},{key:"isOnCurve",value:function(e){return O(new p(e).toBytes())}}]),p}(T);function J(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var r,n=(0,f.Z)(e);if(t){var i=(0,f.Z)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return(0,d.Z)(this,r)}}function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}G.default=new G("11111111111111111111111111111111"),j.set(G,{kind:"struct",fields:[["_bn","u256"]]}),new G("BPFLoader1111111111111111111111111111111111"),Object.defineProperty(function(e){(0,l.Z)(r,e);var t=J(r);function r(e){var n;return(0,a.Z)(this,r),(n=t.call(this,"Signature ".concat(e," has expired: block height exceeded."))).signature=void 0,n.signature=e,n}return(0,o.Z)(r)}((0,_.Z)(Error)).prototype,"name",{value:"TransactionExpiredBlockheightExceededError"}),Object.defineProperty(function(e){(0,l.Z)(r,e);var t=J(r);function r(e,n){var i;return(0,a.Z)(this,r),(i=t.call(this,"Transaction was not confirmed in ".concat(n.toFixed(2)," seconds. It is ")+"unknown if it succeeded or failed. Check signature "+"".concat(e," using the Solana Explorer or CLI tools."))).signature=void 0,i.signature=e,i}return(0,o.Z)(r)}((0,_.Z)(Error)).prototype,"name",{value:"TransactionExpiredTimeoutError"}),Object.defineProperty(function(e){(0,l.Z)(r,e);var t=J(r);function r(e){var n;return(0,a.Z)(this,r),(n=t.call(this,"Signature ".concat(e," has expired: the nonce is no longer valid."))).signature=void 0,n.signature=e,n}return(0,o.Z)(r)}((0,_.Z)(Error)).prototype,"name",{value:"TransactionExpiredNonceInvalidError"});var X=function(){function e(t,r){(0,a.Z)(this,e),this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=t,this.accountKeysFromLookups=r}return(0,o.Z)(e,[{key:"keySegments",value:function(){var e=[this.staticAccountKeys];return this.accountKeysFromLookups&&(e.push(this.accountKeysFromLookups.writable),e.push(this.accountKeysFromLookups.readonly)),e}},{key:"get",value:function(e){var t,r=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return C(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return C(e,t)}}(e))){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw a}}}}(this.keySegments());try{for(r.s();!(t=r.n()).done;){var n=t.value;if(e<n.length)return n[e];e-=n.length}}catch(e){r.e(e)}finally{r.f()}}},{key:"length",get:function(){return this.keySegments().flat().length}},{key:"compileInstructions",value:function(e){if(this.length>256)throw Error("Account index overflow encountered during compilation");var t=new Map;this.keySegments().flat().forEach(function(e,r){t.set(e.toBase58(),r)});var r=function(e){var r=t.get(e.toBase58());if(void 0===r)throw Error("Encountered an unknown instruction account key during compilation");return r};return e.map(function(e){return{programIdIndex:r(e.programId),accountKeyIndexes:e.keys.map(function(e){return r(e.pubkey)}),data:e.data}})}}]),e}(),L=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"publicKey";return I.Ik(32,e)},M=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"string",t=I.n_([I.Jq("length"),I.Jq("lengthPadding"),I.Ik(I.cv(I.Jq(),-8),"chars")],e),r=t.decode.bind(t),n=t.encode.bind(t);return t.decode=function(e,t){return r(e,t).chars.toString()},t.encode=function(e,t,r){return n({chars:s.Buffer.from(e,"utf8")},t,r)},t.alloc=function(e){return I.Jq().span+I.Jq().span+s.Buffer.from(e,"utf8").length},t};function N(e){for(var t=0,r=0;;){var n=e.shift();if(t|=(127&n)<<7*r,r+=1,(128&n)==0)break}return t}function U(e,t){for(var r=t;;){var n=127&r;if(0==(r>>=7)){e.push(n);break}n|=128,e.push(n)}}function D(e,t){if(!e)throw Error(t||"Assertion failed")}function V(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return H(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return H(e,t)}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw a}}}}function H(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var F=function(){function e(t,r){(0,a.Z)(this,e),this.payer=void 0,this.keyMetaMap=void 0,this.payer=t,this.keyMetaMap=r}return(0,o.Z)(e,[{key:"getMessageComponents",value:function(){var e=(0,A.Z)(this.keyMetaMap.entries());D(e.length<=256,"Max static account keys length exceeded");var t=e.filter(function(e){var t=(0,S.Z)(e,2)[1];return t.isSigner&&t.isWritable}),r=e.filter(function(e){var t=(0,S.Z)(e,2)[1];return t.isSigner&&!t.isWritable}),n=e.filter(function(e){var t=(0,S.Z)(e,2)[1];return!t.isSigner&&t.isWritable}),i=e.filter(function(e){var t=(0,S.Z)(e,2)[1];return!t.isSigner&&!t.isWritable}),a={numRequiredSignatures:t.length+r.length,numReadonlySignedAccounts:r.length,numReadonlyUnsignedAccounts:i.length};return D(t.length>0,"Expected at least one writable signer key"),D((0,S.Z)(t[0],1)[0]===this.payer.toBase58(),"Expected first writable signer key to be the fee payer"),[a,[].concat((0,A.Z)(t.map(function(e){var t=(0,S.Z)(e,1)[0];return new G(t)})),(0,A.Z)(r.map(function(e){var t=(0,S.Z)(e,1)[0];return new G(t)})),(0,A.Z)(n.map(function(e){var t=(0,S.Z)(e,1)[0];return new G(t)})),(0,A.Z)(i.map(function(e){var t=(0,S.Z)(e,1)[0];return new G(t)})))]}},{key:"extractTableLookup",value:function(e){var t=this.drainKeysFoundInLookupTable(e.state.addresses,function(e){return!e.isSigner&&!e.isInvoked&&e.isWritable}),r=(0,S.Z)(t,2),n=r[0],i=r[1],a=this.drainKeysFoundInLookupTable(e.state.addresses,function(e){return!e.isSigner&&!e.isInvoked&&!e.isWritable}),o=(0,S.Z)(a,2),s=o[0],u=o[1];if(0!==n.length||0!==s.length)return[{accountKey:e.key,writableIndexes:n,readonlyIndexes:s},{writable:i,readonly:u}]}},{key:"drainKeysFoundInLookupTable",value:function(e,t){var r,n=this,i=[],a=[],o=V(this.keyMetaMap.entries());try{for(o.s();!(r=o.n()).done;)!function(){var o=(0,S.Z)(r.value,2),s=o[0],u=o[1];if(t(u)){var c=new G(s),l=e.findIndex(function(e){return e.equals(c)});l>=0&&(D(l<256,"Max lookup table index exceeded"),i.push(l),a.push(c),n.keyMetaMap.delete(s))}}()}catch(e){o.e(e)}finally{o.f()}return[i,a]}}],[{key:"compile",value:function(t,r){var n=new Map,i=function(e){var t=e.toBase58(),r=n.get(t);return void 0===r&&(r={isSigner:!1,isWritable:!1,isInvoked:!1},n.set(t,r)),r},a=i(r);a.isSigner=!0,a.isWritable=!0;var o,s=V(t);try{for(s.s();!(o=s.n()).done;){var u=o.value;i(u.programId).isInvoked=!0;var c,l=V(u.keys);try{for(l.s();!(c=l.n()).done;){var d=c.value,f=i(d.pubkey);f.isSigner||(f.isSigner=d.isSigner),f.isWritable||(f.isWritable=d.isWritable)}}catch(e){l.e(e)}finally{l.f()}}}catch(e){s.e(e)}finally{s.f()}return new e(r,n)}}]),e}(),Q=function(){function e(t){var r=this;(0,a.Z)(this,e),this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=t.header,this.accountKeys=t.accountKeys.map(function(e){return new G(e)}),this.recentBlockhash=t.recentBlockhash,this.instructions=t.instructions,this.instructions.forEach(function(e){return r.indexToProgramIds.set(e.programIdIndex,r.accountKeys[e.programIdIndex])})}return(0,o.Z)(e,[{key:"version",get:function(){return"legacy"}},{key:"staticAccountKeys",get:function(){return this.accountKeys}},{key:"compiledInstructions",get:function(){return this.instructions.map(function(e){return{programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:k().decode(e.data)}})}},{key:"addressTableLookups",get:function(){return[]}},{key:"getAccountKeys",value:function(){return new X(this.staticAccountKeys)}},{key:"isAccountSigner",value:function(e){return e<this.header.numRequiredSignatures}},{key:"isAccountWritable",value:function(e){var t=this.header.numRequiredSignatures;if(!(e>=this.header.numRequiredSignatures))return e<t-this.header.numReadonlySignedAccounts;var r=this.accountKeys.length-t-this.header.numReadonlyUnsignedAccounts;return e-t<r}},{key:"isProgramId",value:function(e){return this.indexToProgramIds.has(e)}},{key:"programIds",value:function(){return(0,A.Z)(this.indexToProgramIds.values())}},{key:"nonProgramIds",value:function(){var e=this;return this.accountKeys.filter(function(t,r){return!e.isProgramId(r)})}},{key:"serialize",value:function(){var e=this.accountKeys.length,t=[];U(t,e);var r=this.instructions.map(function(e){var t=e.accounts,r=e.programIdIndex,n=Array.from(k().decode(e.data)),i=[];U(i,t.length);var a=[];return U(a,n.length),{programIdIndex:r,keyIndicesCount:s.Buffer.from(i),keyIndices:t,dataLength:s.Buffer.from(a),data:n}}),n=[];U(n,r.length);var i=s.Buffer.alloc(1232);s.Buffer.from(n).copy(i);var a=n.length;r.forEach(function(e){var t=I.n_([I.u8("programIdIndex"),I.Ik(e.keyIndicesCount.length,"keyIndicesCount"),I.A9(I.u8("keyIndex"),e.keyIndices.length,"keyIndices"),I.Ik(e.dataLength.length,"dataLength"),I.A9(I.u8("userdatum"),e.data.length,"data")]).encode(e,i,a);a+=t}),i=i.slice(0,a);var o=I.n_([I.Ik(1,"numRequiredSignatures"),I.Ik(1,"numReadonlySignedAccounts"),I.Ik(1,"numReadonlyUnsignedAccounts"),I.Ik(t.length,"keyCount"),I.A9(L("key"),e,"keys"),L("recentBlockhash")]),u={numRequiredSignatures:s.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:s.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:s.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:s.Buffer.from(t),keys:this.accountKeys.map(function(e){return E(e.toBytes())}),recentBlockhash:k().decode(this.recentBlockhash)},c=s.Buffer.alloc(2048),l=o.encode(u,c);return i.copy(c,l),c.slice(0,l+i.length)}}],[{key:"compile",value:function(t){var r=F.compile(t.instructions,t.payerKey).getMessageComponents(),n=(0,S.Z)(r,2),i=n[0],a=n[1],o=new X(a).compileInstructions(t.instructions).map(function(e){return{programIdIndex:e.programIdIndex,accounts:e.accountKeyIndexes,data:k().encode(e.data)}});return new e({header:i,accountKeys:a,recentBlockhash:t.recentBlockhash,instructions:o})}},{key:"from",value:function(t){var r=(0,A.Z)(t),n=r.shift();if(n!==(127&n))throw Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");for(var i=r.shift(),a=r.shift(),o=N(r),u=[],c=0;c<o;c++){var l=r.slice(0,32);r=r.slice(32),u.push(new G(s.Buffer.from(l)))}for(var d=r.slice(0,32),f=N(r=r.slice(32)),y=[],h=0;h<f;h++){var p=r.shift(),g=N(r),b=r.slice(0,g),m=N(r=r.slice(g)),v=r.slice(0,m),I=k().encode(s.Buffer.from(v));r=r.slice(m),y.push({programIdIndex:p,accounts:b,data:I})}var S={header:{numRequiredSignatures:n,numReadonlySignedAccounts:i,numReadonlyUnsignedAccounts:a},recentBlockhash:k().encode(s.Buffer.from(d)),accountKeys:u,instructions:y};return new e(S)}}]),e}();function $(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function Y(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return ee(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ee(e,t)}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw a}}}}function ee(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function et(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}(n={})[n.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",n[n.PROCESSED=1]="PROCESSED",n[n.TIMED_OUT=2]="TIMED_OUT",n[n.NONCE_INVALID=3]="NONCE_INVALID";var er=s.Buffer.alloc(64).fill(0),en=function(){function e(t){(0,a.Z)(this,e),this.keys=void 0,this.programId=void 0,this.data=s.Buffer.alloc(0),this.programId=t.programId,this.keys=t.keys,t.data&&(this.data=t.data)}return(0,o.Z)(e,[{key:"toJSON",value:function(){return{keys:this.keys.map(function(e){var t=e.pubkey,r=e.isSigner,n=e.isWritable;return{pubkey:t.toJSON(),isSigner:r,isWritable:n}}),programId:this.programId.toJSON(),data:(0,A.Z)(this.data)}}}]),e}(),ei=function(){var e;function t(e){if((0,a.Z)(this,t),this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,e){if(e.feePayer&&(this.feePayer=e.feePayer),e.signatures&&(this.signatures=e.signatures),Object.prototype.hasOwnProperty.call(e,"nonceInfo")){var r=e.minContextSlot,n=e.nonceInfo;this.minNonceContextSlot=r,this.nonceInfo=n}else if(Object.prototype.hasOwnProperty.call(e,"lastValidBlockHeight")){var i=e.blockhash,o=e.lastValidBlockHeight;this.recentBlockhash=i,this.lastValidBlockHeight=o}else{var s=e.recentBlockhash,u=e.nonceInfo;u&&(this.nonceInfo=u),this.recentBlockhash=s}}}return(0,o.Z)(t,[{key:"signature",get:function(){return this.signatures.length>0?this.signatures[0].signature:null}},{key:"toJSON",value:function(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(function(e){return e.toJSON()}),signers:this.signatures.map(function(e){return e.publicKey.toJSON()})}}},{key:"add",value:function(){for(var e=this,t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];if(0===r.length)throw Error("No instructions");return r.forEach(function(t){"instructions"in t?e.instructions=e.instructions.concat(t.instructions):"data"in t&&"programId"in t&&"keys"in t?e.instructions.push(t):e.instructions.push(new en(t))}),this}},{key:"compileMessage",value:function(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;if(this.nonceInfo?(s=this.nonceInfo.nonce,u=this.instructions[0]!=this.nonceInfo.nonceInstruction?[this.nonceInfo.nonceInstruction].concat((0,A.Z)(this.instructions)):this.instructions):(s=this.recentBlockhash,u=this.instructions),!s)throw Error("Transaction recentBlockhash required");if(u.length<1&&console.warn("No instructions provided"),this.feePayer)c=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)c=this.signatures[0].publicKey;else throw Error("Transaction fee payer required");for(var e=0;e<u.length;e++)if(void 0===u[e].programId)throw Error("Transaction instruction index ".concat(e," has undefined program id"));var t=[],r=[];u.forEach(function(e){e.keys.forEach(function(e){r.push(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?et(Object(r),!0).forEach(function(t){(0,w.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):et(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},e))});var n=e.programId.toString();t.includes(n)||t.push(n)}),t.forEach(function(e){r.push({pubkey:new G(e),isSigner:!1,isWritable:!1})});var n=[];r.forEach(function(e){var t=e.pubkey.toString(),r=n.findIndex(function(e){return e.pubkey.toString()===t});r>-1?(n[r].isWritable=n[r].isWritable||e.isWritable,n[r].isSigner=n[r].isSigner||e.isSigner):n.push(e)}),n.sort(function(e,t){return e.isSigner!==t.isSigner?e.isSigner?-1:1:e.isWritable!==t.isWritable?e.isWritable?-1:1:e.pubkey.toBase58().localeCompare(t.pubkey.toBase58(),"en",{localeMatcher:"best fit",usage:"sort",sensitivity:"variant",ignorePunctuation:!1,numeric:!1,caseFirst:"lower"})});var i=n.findIndex(function(e){return e.pubkey.equals(c)});if(i>-1){var a=n.splice(i,1),o=(0,S.Z)(a,1)[0];o.isSigner=!0,o.isWritable=!0,n.unshift(o)}else n.unshift({pubkey:c,isSigner:!0,isWritable:!0});var s,u,c,l,d=Y(this.signatures);try{for(d.s();!(l=d.n()).done;)!function(){var e=l.value,t=n.findIndex(function(t){return t.pubkey.equals(e.publicKey)});if(t>-1)n[t].isSigner||(n[t].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw Error("unknown signer: ".concat(e.publicKey.toString()))}()}catch(e){d.e(e)}finally{d.f()}var f=0,y=0,h=0,p=[],g=[];n.forEach(function(e){var t=e.pubkey,r=e.isSigner,n=e.isWritable;r?(p.push(t.toString()),f+=1,n||(y+=1)):(g.push(t.toString()),n||(h+=1))});var b=p.concat(g),m=u.map(function(e){var t=e.data,r=e.programId;return{programIdIndex:b.indexOf(r.toString()),accounts:e.keys.map(function(e){return b.indexOf(e.pubkey.toString())}),data:k().encode(t)}});return m.forEach(function(e){D(e.programIdIndex>=0),e.accounts.forEach(function(e){return D(e>=0)})}),new Q({header:{numRequiredSignatures:f,numReadonlySignedAccounts:y,numReadonlyUnsignedAccounts:h},accountKeys:b,recentBlockhash:s,instructions:m})}},{key:"_compile",value:function(){var e=this.compileMessage(),t=e.accountKeys.slice(0,e.header.numRequiredSignatures);return this.signatures.length===t.length&&this.signatures.every(function(e,r){return t[r].equals(e.publicKey)})||(this.signatures=t.map(function(e){return{signature:null,publicKey:e}})),e}},{key:"serializeMessage",value:function(){return this._compile().serialize()}},{key:"getEstimatedFee",value:(e=(0,c.Z)(h().mark(function e(t){return h().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getFeeForMessage(this.compileMessage());case 2:return e.abrupt("return",e.sent.value);case 3:case"end":return e.stop()}},e,this)})),function(t){return e.apply(this,arguments)})},{key:"setSigners",value:function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];if(0===t.length)throw Error("No signers");var n=new Set;this.signatures=t.filter(function(e){var t=e.toString();return!n.has(t)&&(n.add(t),!0)}).map(function(e){return{signature:null,publicKey:e}})}},{key:"sign",value:function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];if(0===t.length)throw Error("No signers");for(var n=new Set,i=[],a=0;a<t.length;a++){var o=t[a],s=o.publicKey.toString();n.has(s)||(n.add(s),i.push(o))}this.signatures=i.map(function(e){return{signature:null,publicKey:e.publicKey}});var u=this._compile();this._partialSign.apply(this,[u].concat(i))}},{key:"partialSign",value:function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];if(0===t.length)throw Error("No signers");for(var n=new Set,i=[],a=0;a<t.length;a++){var o=t[a],s=o.publicKey.toString();n.has(s)||(n.add(s),i.push(o))}var u=this._compile();this._partialSign.apply(this,[u].concat(i))}},{key:"_partialSign",value:function(e){for(var t=this,r=e.serialize(),n=arguments.length,i=Array(n>1?n-1:0),a=1;a<n;a++)i[a-1]=arguments[a];i.forEach(function(e){var n=z(r,e.secretKey);t._addSignature(e.publicKey,E(n))})}},{key:"addSignature",value:function(e,t){this._compile(),this._addSignature(e,t)}},{key:"_addSignature",value:function(e,t){D(64===t.length);var r=this.signatures.findIndex(function(t){return e.equals(t.publicKey)});if(r<0)throw Error("unknown signer: ".concat(e.toString()));this.signatures[r].signature=s.Buffer.from(t)}},{key:"verifySignatures",value:function(e){return this._verifySignatures(this.serializeMessage(),void 0===e||e)}},{key:"_verifySignatures",value:function(e,t){var r,n=Y(this.signatures);try{for(n.s();!(r=n.n()).done;){var i=r.value,a=i.signature,o=i.publicKey;if(null===a){if(t)return!1}else if(!K(a,e,o.toBytes()))return!1}}catch(e){n.e(e)}finally{n.f()}return!0}},{key:"serialize",value:function(e){var t=Object.assign({requireAllSignatures:!0,verifySignatures:!0},e),r=t.requireAllSignatures,n=t.verifySignatures,i=this.serializeMessage();if(n&&!this._verifySignatures(i,r))throw Error("Signature verification failed");return this._serialize(i)}},{key:"_serialize",value:function(e){var t=this.signatures,r=[];U(r,t.length);var n=r.length+64*t.length+e.length,i=s.Buffer.alloc(n);return D(t.length<256),s.Buffer.from(r).copy(i,0),t.forEach(function(e,t){var n=e.signature;null!==n&&(D(64===n.length,"signature has invalid length"),s.Buffer.from(n).copy(i,r.length+64*t))}),e.copy(i,r.length+64*t.length),D(i.length<=1232,"Transaction too large: ".concat(i.length," > ").concat(1232)),i}},{key:"keys",get:function(){return D(1===this.instructions.length),this.instructions[0].keys.map(function(e){return e.pubkey})}},{key:"programId",get:function(){return D(1===this.instructions.length),this.instructions[0].programId}},{key:"data",get:function(){return D(1===this.instructions.length),this.instructions[0].data}}],[{key:"from",value:function(e){for(var r=(0,A.Z)(e),n=N(r),i=[],a=0;a<n;a++){var o=r.slice(0,64);r=r.slice(64),i.push(k().encode(s.Buffer.from(o)))}return t.populate(Q.from(r),i)}},{key:"populate",value:function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=new t;return n.recentBlockhash=e.recentBlockhash,e.header.numRequiredSignatures>0&&(n.feePayer=e.accountKeys[0]),r.forEach(function(t,r){var i={signature:t==k().encode(er)?null:k().decode(t),publicKey:e.accountKeys[r]};n.signatures.push(i)}),e.instructions.forEach(function(t){var r=t.accounts.map(function(t){var r=e.accountKeys[t];return{pubkey:r,isSigner:n.signatures.some(function(e){return e.publicKey.toString()===r.toString()})||e.isAccountSigner(t),isWritable:e.isAccountWritable(t)}});n.instructions.push(new en({keys:r,programId:e.accountKeys[t.programIdIndex],data:k().decode(t.data)}))}),n._message=e,n._json=n.toJSON(),n}}]),t}(),ea=new G("SysvarC1ock11111111111111111111111111111111");new G("SysvarEpochSchedu1e111111111111111111111111"),new G("Sysvar1nstructions1111111111111111111111111");var eo=new G("SysvarRecentB1ockHashes11111111111111111111"),es=new G("SysvarRent111111111111111111111111111111111");new G("SysvarRewards111111111111111111111111111111"),new G("SysvarS1otHashes111111111111111111111111111"),new G("SysvarS1otHistory11111111111111111111111111");var eu=new G("SysvarStakeHistory1111111111111111111111111");function ec(e,t,r,n){return el.apply(this,arguments)}function el(){return(el=(0,c.Z)(h().mark(function e(t,r,n,i){var a,o,s,u;return h().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=i&&{skipPreflight:i.skipPreflight,preflightCommitment:i.preflightCommitment||i.commitment,maxRetries:i.maxRetries,minContextSlot:i.minContextSlot},e.next=3,t.sendTransaction(r,n,a);case 3:if(o=e.sent,!(null!=r.recentBlockhash&&null!=r.lastValidBlockHeight)){e.next=10;break}return e.next=7,t.confirmTransaction({abortSignal:null==i?void 0:i.abortSignal,signature:o,blockhash:r.recentBlockhash,lastValidBlockHeight:r.lastValidBlockHeight},i&&i.commitment);case 7:case 15:s=e.sent.value,e.next=22;break;case 10:if(!(null!=r.minNonceContextSlot&&null!=r.nonceInfo)){e.next=18;break}return u=r.nonceInfo.nonceInstruction.keys[0].pubkey,e.next=15,t.confirmTransaction({abortSignal:null==i?void 0:i.abortSignal,minContextSlot:r.minNonceContextSlot,nonceAccountPubkey:u,nonceValue:r.nonceInfo.nonce,signature:o},i&&i.commitment);case 18:return(null==i?void 0:i.abortSignal)!=null&&console.warn("sendAndConfirmTransaction(): A transaction with a deprecated confirmation strategy was supplied along with an `abortSignal`. Only transactions having `lastValidBlockHeight` or a combination of `nonceInfo` and `minNonceContextSlot` are abortable."),e.next=21,t.confirmTransaction(o,i&&i.commitment);case 21:s=e.sent.value;case 22:if(!s.err){e.next=24;break}throw Error("Transaction ".concat(o," failed (").concat(JSON.stringify(s),")"));case 24:return e.abrupt("return",o);case 25:case"end":return e.stop()}},e)}))).apply(this,arguments)}function ed(e,t){var r=e.layout.span>=0?e.layout.span:function e(t,r){var n=function t(n){if(n.span>=0)return n.span;if("function"==typeof n.alloc)return n.alloc(r[n.property]);if("count"in n&&"elementLayout"in n){var i=r[n.property];if(Array.isArray(i))return i.length*t(n.elementLayout)}else if("fields"in n)return e({layout:n},r[n.property]);return 0},i=0;return t.layout.fields.forEach(function(e){i+=n(e)}),i}(e,t),n=s.Buffer.alloc(r),i=Object.assign({instruction:e.index},t);return e.layout.encode(i,n),n}var ef=I._O("lamportsPerSignature"),ey=I.n_([I.Jq("version"),I.Jq("state"),L("authorizedPubkey"),L("nonce"),I.n_([ef],"feeCalculator")]).span,eh=function(e){var t=(0,I.Ik)(8,e),r={decode:t.decode.bind(t),encode:t.encode.bind(t)},n=r.encode,i=r.decode;return t.decode=function(e,t){var r=i(e,t);return(0,x.oU)(s.Buffer.from(r))},t.encode=function(e,t,r){return n((0,x.k$)(e,8),t,r)},t},ep=Object.freeze({Create:{index:0,layout:I.n_([I.Jq("instruction"),I.gM("lamports"),I.gM("space"),L("programId")])},Assign:{index:1,layout:I.n_([I.Jq("instruction"),L("programId")])},Transfer:{index:2,layout:I.n_([I.Jq("instruction"),eh("lamports")])},CreateWithSeed:{index:3,layout:I.n_([I.Jq("instruction"),L("base"),M("seed"),I.gM("lamports"),I.gM("space"),L("programId")])},AdvanceNonceAccount:{index:4,layout:I.n_([I.Jq("instruction")])},WithdrawNonceAccount:{index:5,layout:I.n_([I.Jq("instruction"),I.gM("lamports")])},InitializeNonceAccount:{index:6,layout:I.n_([I.Jq("instruction"),L("authorized")])},AuthorizeNonceAccount:{index:7,layout:I.n_([I.Jq("instruction"),L("authorized")])},Allocate:{index:8,layout:I.n_([I.Jq("instruction"),I.gM("space")])},AllocateWithSeed:{index:9,layout:I.n_([I.Jq("instruction"),L("base"),M("seed"),I.gM("space"),L("programId")])},AssignWithSeed:{index:10,layout:I.n_([I.Jq("instruction"),L("base"),M("seed"),L("programId")])},TransferWithSeed:{index:11,layout:I.n_([I.Jq("instruction"),eh("lamports"),M("seed"),L("programId")])},UpgradeNonceAccount:{index:12,layout:I.n_([I.Jq("instruction")])}}),eg=function(){function e(){(0,a.Z)(this,e)}return(0,o.Z)(e,null,[{key:"createAccount",value:function(e){var t=ed(ep.Create,{lamports:e.lamports,space:e.space,programId:E(e.programId.toBuffer())});return new en({keys:[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:t})}},{key:"transfer",value:function(e){if("basePubkey"in e){var t,r;t=ed(ep.TransferWithSeed,{lamports:BigInt(e.lamports),seed:e.seed,programId:E(e.programId.toBuffer())}),r=[{pubkey:e.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}else t=ed(ep.Transfer,{lamports:BigInt(e.lamports)}),r=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}];return new en({keys:r,programId:this.programId,data:t})}},{key:"assign",value:function(e){if("basePubkey"in e){var t,r;t=ed(ep.AssignWithSeed,{base:E(e.basePubkey.toBuffer()),seed:e.seed,programId:E(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else t=ed(ep.Assign,{programId:E(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}];return new en({keys:r,programId:this.programId,data:t})}},{key:"createAccountWithSeed",value:function(e){var t=ed(ep.CreateWithSeed,{base:E(e.basePubkey.toBuffer()),seed:e.seed,lamports:e.lamports,space:e.space,programId:E(e.programId.toBuffer())}),r=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!1,isWritable:!0}];return e.basePubkey!=e.fromPubkey&&r.push({pubkey:e.basePubkey,isSigner:!0,isWritable:!1}),new en({keys:r,programId:this.programId,data:t})}},{key:"createNonceAccount",value:function(t){var r=new ei;"basePubkey"in t&&"seed"in t?r.add(e.createAccountWithSeed({fromPubkey:t.fromPubkey,newAccountPubkey:t.noncePubkey,basePubkey:t.basePubkey,seed:t.seed,lamports:t.lamports,space:ey,programId:this.programId})):r.add(e.createAccount({fromPubkey:t.fromPubkey,newAccountPubkey:t.noncePubkey,lamports:t.lamports,space:ey,programId:this.programId}));var n={noncePubkey:t.noncePubkey,authorizedPubkey:t.authorizedPubkey};return r.add(this.nonceInitialize(n)),r}},{key:"nonceInitialize",value:function(e){var t=ed(ep.InitializeNonceAccount,{authorized:E(e.authorizedPubkey.toBuffer())}),r={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:eo,isSigner:!1,isWritable:!1},{pubkey:es,isSigner:!1,isWritable:!1}],programId:this.programId,data:t};return new en(r)}},{key:"nonceAdvance",value:function(e){var t=ed(ep.AdvanceNonceAccount),r={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:eo,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:t};return new en(r)}},{key:"nonceWithdraw",value:function(e){var t=ed(ep.WithdrawNonceAccount,{lamports:e.lamports});return new en({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0},{pubkey:eo,isSigner:!1,isWritable:!1},{pubkey:es,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:t})}},{key:"nonceAuthorize",value:function(e){var t=ed(ep.AuthorizeNonceAccount,{authorized:E(e.newAuthorizedPubkey.toBuffer())});return new en({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:t})}},{key:"allocate",value:function(e){if("basePubkey"in e){var t,r;t=ed(ep.AllocateWithSeed,{base:E(e.basePubkey.toBuffer()),seed:e.seed,space:e.space,programId:E(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else t=ed(ep.Allocate,{space:e.space}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}];return new en({keys:r,programId:this.programId,data:t})}}]),e}();function eb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function ek(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?eb(Object(r),!0).forEach(function(t){(0,w.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eb(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}eg.programId=new G("11111111111111111111111111111111"),function(){var e;function t(){(0,a.Z)(this,t)}return(0,o.Z)(t,null,[{key:"getMinNumSignatures",value:function(e){return 2*(Math.ceil(e/t.chunkSize)+1+1)}},{key:"load",value:(e=(0,c.Z)(h().mark(function e(r,n,i,a,o){var u,c,l,d,f,y,p,g,b,k,m,v,S,x,w,A,P,_,R;return h().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.getMinimumBalanceForRentExemption(o.length);case 2:return u=e.sent,e.next=5,r.getAccountInfo(i.publicKey,"confirmed");case 5:if(c=e.sent,l=null,!(null!==c)){e.next=16;break}if(!c.executable){e.next=11;break}return console.error("Program load failed, account is already executable"),e.abrupt("return",!1);case 11:c.data.length!==o.length&&(l=l||new ei).add(eg.allocate({accountPubkey:i.publicKey,space:o.length})),c.owner.equals(a)||(l=l||new ei).add(eg.assign({accountPubkey:i.publicKey,programId:a})),c.lamports<u&&(l=l||new ei).add(eg.transfer({fromPubkey:n.publicKey,toPubkey:i.publicKey,lamports:u-c.lamports})),e.next=17;break;case 16:l=new ei().add(eg.createAccount({fromPubkey:n.publicKey,newAccountPubkey:i.publicKey,lamports:u>0?u:1,space:o.length,programId:a}));case 17:if(!(null!==l)){e.next=20;break}return e.next=20,ec(r,l,[n,i],{commitment:"confirmed"});case 20:d=I.n_([I.Jq("instruction"),I.Jq("offset"),I.Jq("bytesLength"),I.Jq("bytesLengthPadding"),I.A9(I.u8("byte"),I.cv(I.Jq(),-8),"bytes")]),f=t.chunkSize,y=0,p=o,g=[];case 25:if(!(p.length>0)){e.next=39;break}if(b=p.slice(0,f),k=s.Buffer.alloc(f+16),d.encode({instruction:0,offset:y,bytes:b,bytesLength:0,bytesLengthPadding:0},k),m=new ei().add({keys:[{pubkey:i.publicKey,isSigner:!0,isWritable:!0}],programId:a,data:k}),g.push(ec(r,m,[n,i],{commitment:"confirmed"})),!r._rpcEndpoint.includes("solana.com")){e.next=35;break}return e.next=35,new Promise(function(e){return setTimeout(e,250)});case 35:y+=f,p=p.slice(f),e.next=25;break;case 39:return e.next=41,Promise.all(g);case 41:return v=I.n_([I.Jq("instruction")]),S=s.Buffer.alloc(v.span),v.encode({instruction:1},S),x=new ei().add({keys:[{pubkey:i.publicKey,isSigner:!0,isWritable:!0},{pubkey:es,isSigner:!1,isWritable:!1}],programId:a,data:S}),w="processed",e.next=48,r.sendTransaction(x,[n,i],{preflightCommitment:w});case 48:return A=e.sent,e.next=51,r.confirmTransaction({signature:A,lastValidBlockHeight:x.lastValidBlockHeight,blockhash:x.recentBlockhash},w);case 51:if(_=(P=e.sent).context,!(R=P.value).err){e.next=56;break}throw Error("Transaction ".concat(A," failed (").concat(JSON.stringify(R),")"));case 56:return e.prev=57,e.next=60,r.getSlot({commitment:w});case 60:if(!(e.sent>_.slot)){e.next=63;break}return e.abrupt("break",71);case 63:e.next=67;break;case 65:e.prev=65,e.t0=e.catch(57);case 67:return e.next=69,new Promise(function(e){return setTimeout(e,Math.round(200))});case 69:e.next=56;break;case 71:return e.abrupt("return",!0);case 72:case"end":return e.stop()}},e,null,[[57,65]])})),function(t,r,n,i,a){return e.apply(this,arguments)})}]),t}().chunkSize=932,new G("BPFLoader2111111111111111111111111111111111"),Object.prototype.toString,I.n_([I.Jq("typeIndex"),eh("deactivationSlot"),I._O("lastExtendedSlot"),I.u8("lastExtendedStartIndex"),I.u8(),I.A9(L(),I.cv(I.u8(),-1),"authority")]);var em=(0,P.oQ)((0,P.eE)(G),(0,P.Z_)(),function(e){return new G(e)}),ev=(0,P.bc)([(0,P.Z_)(),(0,P.i0)("base64")]),eI=(0,P.oQ)((0,P.eE)(s.Buffer),ev,function(e){return s.Buffer.from(e[0],"base64")});function eS(e){return(0,P.G0)([(0,P.dt)({jsonrpc:(0,P.i0)("2.0"),id:(0,P.Z_)(),result:e}),(0,P.dt)({jsonrpc:(0,P.i0)("2.0"),id:(0,P.Z_)(),error:(0,P.dt)({code:(0,P._4)(),message:(0,P.Z_)(),data:(0,P.jt)((0,P.Yj)())})})])}var ex=eS((0,P._4)());function ew(e){return(0,P.oQ)(eS(e),ex,function(t){return"error"in t?t:ek(ek({},t),{},{result:(0,P.Ue)(t.result,e)})})}function eA(e){return ew((0,P.dt)({context:(0,P.dt)({slot:(0,P.Rx)()}),value:e}))}function eP(e){return(0,P.dt)({context:(0,P.dt)({slot:(0,P.Rx)()}),value:e})}var e_=(0,P.dt)({foundation:(0,P.Rx)(),foundationTerm:(0,P.Rx)(),initial:(0,P.Rx)(),taper:(0,P.Rx)(),terminal:(0,P.Rx)()});ew((0,P.IX)((0,P.AG)((0,P.dt)({epoch:(0,P.Rx)(),effectiveSlot:(0,P.Rx)(),amount:(0,P.Rx)(),postBalance:(0,P.Rx)(),commission:(0,P.jt)((0,P.AG)((0,P.Rx)()))}))));var eR=(0,P.IX)((0,P.dt)({slot:(0,P.Rx)(),prioritizationFee:(0,P.Rx)()})),eB=(0,P.dt)({total:(0,P.Rx)(),validator:(0,P.Rx)(),foundation:(0,P.Rx)(),epoch:(0,P.Rx)()}),eZ=(0,P.dt)({epoch:(0,P.Rx)(),slotIndex:(0,P.Rx)(),slotsInEpoch:(0,P.Rx)(),absoluteSlot:(0,P.Rx)(),blockHeight:(0,P.jt)((0,P.Rx)()),transactionCount:(0,P.jt)((0,P.Rx)())}),eW=(0,P.dt)({slotsPerEpoch:(0,P.Rx)(),leaderScheduleSlotOffset:(0,P.Rx)(),warmup:(0,P.O7)(),firstNormalEpoch:(0,P.Rx)(),firstNormalSlot:(0,P.Rx)()}),eO=(0,P.IM)((0,P.Z_)(),(0,P.IX)((0,P.Rx)())),ez=(0,P.AG)((0,P.G0)([(0,P.dt)({}),(0,P.Z_)()])),eK=(0,P.dt)({err:ez}),eE=(0,P.i0)("receivedSignature");(0,P.dt)({"solana-core":(0,P.Z_)(),"feature-set":(0,P.jt)((0,P.Rx)())}),eA((0,P.dt)({err:(0,P.AG)((0,P.G0)([(0,P.dt)({}),(0,P.Z_)()])),logs:(0,P.AG)((0,P.IX)((0,P.Z_)())),accounts:(0,P.jt)((0,P.AG)((0,P.IX)((0,P.AG)((0,P.dt)({executable:(0,P.O7)(),owner:(0,P.Z_)(),lamports:(0,P.Rx)(),data:(0,P.IX)((0,P.Z_)()),rentEpoch:(0,P.jt)((0,P.Rx)())}))))),unitsConsumed:(0,P.jt)((0,P.Rx)()),returnData:(0,P.jt)((0,P.AG)((0,P.dt)({programId:(0,P.Z_)(),data:(0,P.bc)([(0,P.Z_)(),(0,P.i0)("base64")])})))})),eA((0,P.dt)({byIdentity:(0,P.IM)((0,P.Z_)(),(0,P.IX)((0,P.Rx)())),range:(0,P.dt)({firstSlot:(0,P.Rx)(),lastSlot:(0,P.Rx)()})})),ew(e_),ew(eB),ew(eR),ew(eZ),ew(eW),ew(eO),ew((0,P.Rx)()),eA((0,P.dt)({total:(0,P.Rx)(),circulating:(0,P.Rx)(),nonCirculating:(0,P.Rx)(),nonCirculatingAccounts:(0,P.IX)(em)}));var eT=(0,P.dt)({amount:(0,P.Z_)(),uiAmount:(0,P.AG)((0,P.Rx)()),decimals:(0,P.Rx)(),uiAmountString:(0,P.jt)((0,P.Z_)())});eA((0,P.IX)((0,P.dt)({address:em,amount:(0,P.Z_)(),uiAmount:(0,P.AG)((0,P.Rx)()),decimals:(0,P.Rx)(),uiAmountString:(0,P.jt)((0,P.Z_)())}))),eA((0,P.IX)((0,P.dt)({pubkey:em,account:(0,P.dt)({executable:(0,P.O7)(),owner:em,lamports:(0,P.Rx)(),data:eI,rentEpoch:(0,P.Rx)()})})));var ej=(0,P.dt)({program:(0,P.Z_)(),parsed:(0,P._4)(),space:(0,P.Rx)()});eA((0,P.IX)((0,P.dt)({pubkey:em,account:(0,P.dt)({executable:(0,P.O7)(),owner:em,lamports:(0,P.Rx)(),data:ej,rentEpoch:(0,P.Rx)()})}))),eA((0,P.IX)((0,P.dt)({lamports:(0,P.Rx)(),address:em})));var eq=(0,P.dt)({executable:(0,P.O7)(),owner:em,lamports:(0,P.Rx)(),data:eI,rentEpoch:(0,P.Rx)()});(0,P.dt)({pubkey:em,account:eq});var eG=(0,P.oQ)((0,P.G0)([(0,P.eE)(s.Buffer),ej]),(0,P.G0)([ev,ej]),function(e){return Array.isArray(e)?(0,P.Ue)(e,eI):e}),eJ=(0,P.dt)({executable:(0,P.O7)(),owner:em,lamports:(0,P.Rx)(),data:eG,rentEpoch:(0,P.Rx)()});(0,P.dt)({pubkey:em,account:eJ}),(0,P.dt)({state:(0,P.G0)([(0,P.i0)("active"),(0,P.i0)("inactive"),(0,P.i0)("activating"),(0,P.i0)("deactivating")]),active:(0,P.Rx)(),inactive:(0,P.Rx)()}),ew((0,P.IX)((0,P.dt)({signature:(0,P.Z_)(),slot:(0,P.Rx)(),err:ez,memo:(0,P.AG)((0,P.Z_)()),blockTime:(0,P.jt)((0,P.AG)((0,P.Rx)()))}))),ew((0,P.IX)((0,P.dt)({signature:(0,P.Z_)(),slot:(0,P.Rx)(),err:ez,memo:(0,P.AG)((0,P.Z_)()),blockTime:(0,P.jt)((0,P.AG)((0,P.Rx)()))}))),(0,P.dt)({subscription:(0,P.Rx)(),result:eP(eq)});var eC=(0,P.dt)({pubkey:em,account:eq});(0,P.dt)({subscription:(0,P.Rx)(),result:eP(eC)});var eX=(0,P.dt)({parent:(0,P.Rx)(),slot:(0,P.Rx)(),root:(0,P.Rx)()});(0,P.dt)({subscription:(0,P.Rx)(),result:eX});var eL=(0,P.G0)([(0,P.dt)({type:(0,P.G0)([(0,P.i0)("firstShredReceived"),(0,P.i0)("completed"),(0,P.i0)("optimisticConfirmation"),(0,P.i0)("root")]),slot:(0,P.Rx)(),timestamp:(0,P.Rx)()}),(0,P.dt)({type:(0,P.i0)("createdBank"),parent:(0,P.Rx)(),slot:(0,P.Rx)(),timestamp:(0,P.Rx)()}),(0,P.dt)({type:(0,P.i0)("frozen"),slot:(0,P.Rx)(),timestamp:(0,P.Rx)(),stats:(0,P.dt)({numTransactionEntries:(0,P.Rx)(),numSuccessfulTransactions:(0,P.Rx)(),numFailedTransactions:(0,P.Rx)(),maxTransactionsPerEntry:(0,P.Rx)()})}),(0,P.dt)({type:(0,P.i0)("dead"),slot:(0,P.Rx)(),timestamp:(0,P.Rx)(),err:(0,P.Z_)()})]);(0,P.dt)({subscription:(0,P.Rx)(),result:eL}),(0,P.dt)({subscription:(0,P.Rx)(),result:eP((0,P.G0)([eK,eE]))}),(0,P.dt)({subscription:(0,P.Rx)(),result:(0,P.Rx)()}),(0,P.dt)({pubkey:(0,P.Z_)(),gossip:(0,P.AG)((0,P.Z_)()),tpu:(0,P.AG)((0,P.Z_)()),rpc:(0,P.AG)((0,P.Z_)()),version:(0,P.AG)((0,P.Z_)())});var eM=(0,P.dt)({votePubkey:(0,P.Z_)(),nodePubkey:(0,P.Z_)(),activatedStake:(0,P.Rx)(),epochVoteAccount:(0,P.O7)(),epochCredits:(0,P.IX)((0,P.bc)([(0,P.Rx)(),(0,P.Rx)(),(0,P.Rx)()])),commission:(0,P.Rx)(),lastVote:(0,P.Rx)(),rootSlot:(0,P.AG)((0,P.Rx)())});ew((0,P.dt)({current:(0,P.IX)(eM),delinquent:(0,P.IX)(eM)}));var eN=(0,P.G0)([(0,P.i0)("processed"),(0,P.i0)("confirmed"),(0,P.i0)("finalized")]),eU=(0,P.dt)({slot:(0,P.Rx)(),confirmations:(0,P.AG)((0,P.Rx)()),err:ez,confirmationStatus:(0,P.jt)(eN)});eA((0,P.IX)((0,P.AG)(eU))),ew((0,P.Rx)());var eD=(0,P.dt)({accountKey:em,writableIndexes:(0,P.IX)((0,P.Rx)()),readonlyIndexes:(0,P.IX)((0,P.Rx)())}),eV=(0,P.dt)({signatures:(0,P.IX)((0,P.Z_)()),message:(0,P.dt)({accountKeys:(0,P.IX)((0,P.Z_)()),header:(0,P.dt)({numRequiredSignatures:(0,P.Rx)(),numReadonlySignedAccounts:(0,P.Rx)(),numReadonlyUnsignedAccounts:(0,P.Rx)()}),instructions:(0,P.IX)((0,P.dt)({accounts:(0,P.IX)((0,P.Rx)()),data:(0,P.Z_)(),programIdIndex:(0,P.Rx)()})),recentBlockhash:(0,P.Z_)(),addressTableLookups:(0,P.jt)((0,P.IX)(eD))})}),eH=(0,P.dt)({pubkey:em,signer:(0,P.O7)(),writable:(0,P.O7)(),source:(0,P.jt)((0,P.G0)([(0,P.i0)("transaction"),(0,P.i0)("lookupTable")]))}),eF=(0,P.dt)({accountKeys:(0,P.IX)(eH),signatures:(0,P.IX)((0,P.Z_)())}),eQ=(0,P.dt)({parsed:(0,P._4)(),program:(0,P.Z_)(),programId:em}),e$=(0,P.dt)({accounts:(0,P.IX)(em),data:(0,P.Z_)(),programId:em}),eY=(0,P.G0)([e$,eQ]),e0=(0,P.G0)([(0,P.dt)({parsed:(0,P._4)(),program:(0,P.Z_)(),programId:(0,P.Z_)()}),(0,P.dt)({accounts:(0,P.IX)((0,P.Z_)()),data:(0,P.Z_)(),programId:(0,P.Z_)()})]),e1=(0,P.oQ)(eY,e0,function(e){return"accounts"in e?(0,P.Ue)(e,e$):(0,P.Ue)(e,eQ)}),e2=(0,P.dt)({signatures:(0,P.IX)((0,P.Z_)()),message:(0,P.dt)({accountKeys:(0,P.IX)(eH),instructions:(0,P.IX)(e1),recentBlockhash:(0,P.Z_)(),addressTableLookups:(0,P.jt)((0,P.AG)((0,P.IX)(eD)))})}),e8=(0,P.dt)({accountIndex:(0,P.Rx)(),mint:(0,P.Z_)(),owner:(0,P.jt)((0,P.Z_)()),uiTokenAmount:eT}),e6=(0,P.dt)({writable:(0,P.IX)(em),readonly:(0,P.IX)(em)}),e5=(0,P.dt)({err:ez,fee:(0,P.Rx)(),innerInstructions:(0,P.jt)((0,P.AG)((0,P.IX)((0,P.dt)({index:(0,P.Rx)(),instructions:(0,P.IX)((0,P.dt)({accounts:(0,P.IX)((0,P.Rx)()),data:(0,P.Z_)(),programIdIndex:(0,P.Rx)()}))})))),preBalances:(0,P.IX)((0,P.Rx)()),postBalances:(0,P.IX)((0,P.Rx)()),logMessages:(0,P.jt)((0,P.AG)((0,P.IX)((0,P.Z_)()))),preTokenBalances:(0,P.jt)((0,P.AG)((0,P.IX)(e8))),postTokenBalances:(0,P.jt)((0,P.AG)((0,P.IX)(e8))),loadedAddresses:(0,P.jt)(e6),computeUnitsConsumed:(0,P.jt)((0,P.Rx)())}),e3=(0,P.dt)({err:ez,fee:(0,P.Rx)(),innerInstructions:(0,P.jt)((0,P.AG)((0,P.IX)((0,P.dt)({index:(0,P.Rx)(),instructions:(0,P.IX)(e1)})))),preBalances:(0,P.IX)((0,P.Rx)()),postBalances:(0,P.IX)((0,P.Rx)()),logMessages:(0,P.jt)((0,P.AG)((0,P.IX)((0,P.Z_)()))),preTokenBalances:(0,P.jt)((0,P.AG)((0,P.IX)(e8))),postTokenBalances:(0,P.jt)((0,P.AG)((0,P.IX)(e8))),loadedAddresses:(0,P.jt)(e6),computeUnitsConsumed:(0,P.jt)((0,P.Rx)())}),e4=(0,P.G0)([(0,P.i0)(0),(0,P.i0)("legacy")]),e7=(0,P.dt)({pubkey:(0,P.Z_)(),lamports:(0,P.Rx)(),postBalance:(0,P.AG)((0,P.Rx)()),rewardType:(0,P.AG)((0,P.Z_)()),commission:(0,P.jt)((0,P.AG)((0,P.Rx)()))});ew((0,P.AG)((0,P.dt)({blockhash:(0,P.Z_)(),previousBlockhash:(0,P.Z_)(),parentSlot:(0,P.Rx)(),transactions:(0,P.IX)((0,P.dt)({transaction:eV,meta:(0,P.AG)(e5),version:(0,P.jt)(e4)})),rewards:(0,P.jt)((0,P.IX)(e7)),blockTime:(0,P.AG)((0,P.Rx)()),blockHeight:(0,P.AG)((0,P.Rx)())}))),ew((0,P.AG)((0,P.dt)({blockhash:(0,P.Z_)(),previousBlockhash:(0,P.Z_)(),parentSlot:(0,P.Rx)(),rewards:(0,P.jt)((0,P.IX)(e7)),blockTime:(0,P.AG)((0,P.Rx)()),blockHeight:(0,P.AG)((0,P.Rx)())}))),ew((0,P.AG)((0,P.dt)({blockhash:(0,P.Z_)(),previousBlockhash:(0,P.Z_)(),parentSlot:(0,P.Rx)(),transactions:(0,P.IX)((0,P.dt)({transaction:eF,meta:(0,P.AG)(e5),version:(0,P.jt)(e4)})),rewards:(0,P.jt)((0,P.IX)(e7)),blockTime:(0,P.AG)((0,P.Rx)()),blockHeight:(0,P.AG)((0,P.Rx)())}))),ew((0,P.AG)((0,P.dt)({blockhash:(0,P.Z_)(),previousBlockhash:(0,P.Z_)(),parentSlot:(0,P.Rx)(),transactions:(0,P.IX)((0,P.dt)({transaction:e2,meta:(0,P.AG)(e3),version:(0,P.jt)(e4)})),rewards:(0,P.jt)((0,P.IX)(e7)),blockTime:(0,P.AG)((0,P.Rx)()),blockHeight:(0,P.AG)((0,P.Rx)())}))),ew((0,P.AG)((0,P.dt)({blockhash:(0,P.Z_)(),previousBlockhash:(0,P.Z_)(),parentSlot:(0,P.Rx)(),transactions:(0,P.IX)((0,P.dt)({transaction:eF,meta:(0,P.AG)(e3),version:(0,P.jt)(e4)})),rewards:(0,P.jt)((0,P.IX)(e7)),blockTime:(0,P.AG)((0,P.Rx)()),blockHeight:(0,P.AG)((0,P.Rx)())}))),ew((0,P.AG)((0,P.dt)({blockhash:(0,P.Z_)(),previousBlockhash:(0,P.Z_)(),parentSlot:(0,P.Rx)(),rewards:(0,P.jt)((0,P.IX)(e7)),blockTime:(0,P.AG)((0,P.Rx)()),blockHeight:(0,P.AG)((0,P.Rx)())}))),ew((0,P.AG)((0,P.dt)({blockhash:(0,P.Z_)(),previousBlockhash:(0,P.Z_)(),parentSlot:(0,P.Rx)(),transactions:(0,P.IX)((0,P.dt)({transaction:eV,meta:(0,P.AG)(e5)})),rewards:(0,P.jt)((0,P.IX)(e7)),blockTime:(0,P.AG)((0,P.Rx)())}))),ew((0,P.AG)((0,P.dt)({blockhash:(0,P.Z_)(),previousBlockhash:(0,P.Z_)(),parentSlot:(0,P.Rx)(),signatures:(0,P.IX)((0,P.Z_)()),blockTime:(0,P.AG)((0,P.Rx)())}))),ew((0,P.AG)((0,P.dt)({slot:(0,P.Rx)(),meta:e5,blockTime:(0,P.jt)((0,P.AG)((0,P.Rx)())),transaction:eV,version:(0,P.jt)(e4)}))),ew((0,P.AG)((0,P.dt)({slot:(0,P.Rx)(),transaction:e2,meta:(0,P.AG)(e3),blockTime:(0,P.jt)((0,P.AG)((0,P.Rx)())),version:(0,P.jt)(e4)}))),eA((0,P.dt)({blockhash:(0,P.Z_)(),feeCalculator:(0,P.dt)({lamportsPerSignature:(0,P.Rx)()})})),eA((0,P.dt)({blockhash:(0,P.Z_)(),lastValidBlockHeight:(0,P.Rx)()})),eA((0,P.O7)());var e9=(0,P.dt)({slot:(0,P.Rx)(),numTransactions:(0,P.Rx)(),numSlots:(0,P.Rx)(),samplePeriodSecs:(0,P.Rx)()});ew((0,P.IX)(e9)),eA((0,P.AG)((0,P.dt)({feeCalculator:(0,P.dt)({lamportsPerSignature:(0,P.Rx)()})}))),ew((0,P.Z_)()),ew((0,P.Z_)());var te=(0,P.dt)({err:ez,logs:(0,P.IX)((0,P.Z_)()),signature:(0,P.Z_)()});(0,P.dt)({result:eP(te),subscription:(0,P.Rx)()});var tt=function(){function e(t){(0,a.Z)(this,e),this._keypair=void 0,this._keypair=null!=t?t:Z()}return(0,o.Z)(e,[{key:"publicKey",get:function(){return new G(this._keypair.publicKey)}},{key:"secretKey",get:function(){return new Uint8Array(this._keypair.secretKey)}}],[{key:"generate",value:function(){return new e(Z())}},{key:"fromSecretKey",value:function(t,r){if(64!==t.byteLength)throw Error("bad secret key size");var n=t.slice(32,64);if(!r||!r.skipValidation){for(var i=W(t.slice(0,32)),a=0;a<32;a++)if(n[a]!==i[a])throw Error("provided secretKey is invalid")}return new e({publicKey:n,secretKey:t})}},{key:"fromSeed",value:function(t){var r=W(t),n=new Uint8Array(64);return n.set(t),n.set(r,32),new e({publicKey:r,secretKey:n})}}]),e}(),tr=Object.freeze({CreateLookupTable:{index:0,layout:I.n_([I.Jq("instruction"),eh("recentSlot"),I.u8("bumpSeed")])},FreezeLookupTable:{index:1,layout:I.n_([I.Jq("instruction")])},ExtendLookupTable:{index:2,layout:I.n_([I.Jq("instruction"),eh(),I.A9(L(),I.cv(I.Jq(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:I.n_([I.Jq("instruction")])},CloseLookupTable:{index:4,layout:I.n_([I.Jq("instruction")])}});(function(){function e(){(0,a.Z)(this,e)}return(0,o.Z)(e,null,[{key:"createLookupTable",value:function(e){var t=G.findProgramAddressSync([e.authority.toBuffer(),(0,x.k$)(BigInt(e.recentSlot),8)],this.programId),r=(0,S.Z)(t,2),n=r[0],i=r[1],a=ed(tr.CreateLookupTable,{recentSlot:BigInt(e.recentSlot),bumpSeed:i}),o=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:eg.programId,isSigner:!1,isWritable:!1}];return[new en({programId:this.programId,keys:o,data:a}),n]}},{key:"freezeLookupTable",value:function(e){var t=ed(tr.FreezeLookupTable),r=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new en({programId:this.programId,keys:r,data:t})}},{key:"extendLookupTable",value:function(e){var t=ed(tr.ExtendLookupTable,{addresses:e.addresses.map(function(e){return e.toBytes()})}),r=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return e.payer&&r.push({pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:eg.programId,isSigner:!1,isWritable:!1}),new en({programId:this.programId,keys:r,data:t})}},{key:"deactivateLookupTable",value:function(e){var t=ed(tr.DeactivateLookupTable),r=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new en({programId:this.programId,keys:r,data:t})}},{key:"closeLookupTable",value:function(e){var t=ed(tr.CloseLookupTable),r=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.recipient,isSigner:!1,isWritable:!0}];return new en({programId:this.programId,keys:r,data:t})}}]),e})().programId=new G("AddressLookupTab1e1111111111111111111111111");var tn=Object.freeze({RequestUnits:{index:0,layout:I.n_([I.u8("instruction"),I.Jq("units"),I.Jq("additionalFee")])},RequestHeapFrame:{index:1,layout:I.n_([I.u8("instruction"),I.Jq("bytes")])},SetComputeUnitLimit:{index:2,layout:I.n_([I.u8("instruction"),I.Jq("units")])},SetComputeUnitPrice:{index:3,layout:I.n_([I.u8("instruction"),eh("microLamports")])}});(function(){function e(){(0,a.Z)(this,e)}return(0,o.Z)(e,null,[{key:"requestUnits",value:function(e){var t=ed(tn.RequestUnits,e);return new en({keys:[],programId:this.programId,data:t})}},{key:"requestHeapFrame",value:function(e){var t=ed(tn.RequestHeapFrame,e);return new en({keys:[],programId:this.programId,data:t})}},{key:"setComputeUnitLimit",value:function(e){var t=ed(tn.SetComputeUnitLimit,e);return new en({keys:[],programId:this.programId,data:t})}},{key:"setComputeUnitPrice",value:function(e){var t=ed(tn.SetComputeUnitPrice,{microLamports:BigInt(e.microLamports)});return new en({keys:[],programId:this.programId,data:t})}}]),e})().programId=new G("ComputeBudget111111111111111111111111111111");var ti=I.n_([I.u8("numSignatures"),I.u8("padding"),I.KB("signatureOffset"),I.KB("signatureInstructionIndex"),I.KB("publicKeyOffset"),I.KB("publicKeyInstructionIndex"),I.KB("messageDataOffset"),I.KB("messageDataSize"),I.KB("messageInstructionIndex")]);(function(){function e(){(0,a.Z)(this,e)}return(0,o.Z)(e,null,[{key:"createInstructionWithPublicKey",value:function(t){var r=t.publicKey,n=t.message,i=t.signature,a=t.instructionIndex;D(32===r.length,"Public Key must be ".concat(32," bytes but received ").concat(r.length," bytes")),D(64===i.length,"Signature must be ".concat(64," bytes but received ").concat(i.length," bytes"));var o=ti.span,u=o+r.length,c=u+i.length,l=s.Buffer.alloc(c+n.length),d=null==a?65535:a;return ti.encode({numSignatures:1,padding:0,signatureOffset:u,signatureInstructionIndex:d,publicKeyOffset:o,publicKeyInstructionIndex:d,messageDataOffset:c,messageDataSize:n.length,messageInstructionIndex:d},l),l.fill(r,o),l.fill(i,u),l.fill(n,c),new en({keys:[],programId:e.programId,data:l})}},{key:"createInstructionWithPrivateKey",value:function(e){var t=e.privateKey,r=e.message,n=e.instructionIndex;D(64===t.length,"Private key must be ".concat(64," bytes but received ").concat(t.length," bytes"));try{var i=tt.fromSecretKey(t),a=i.publicKey.toBytes(),o=z(r,i.secretKey);return this.createInstructionWithPublicKey({publicKey:a,message:r,signature:o,instructionIndex:n})}catch(e){throw Error("Error creating instruction; ".concat(e))}}}]),e})().programId=new G("Ed25519SigVerify111111111111111111111111111");var ta=function(e,t){var r=B.kA.sign(e,t);return[r.toCompactRawBytes(),r.recovery]};B.kA.utils.isValidPrivateKey;var to=B.kA.getPublicKey,ts=I.n_([I.u8("numSignatures"),I.KB("signatureOffset"),I.u8("signatureInstructionIndex"),I.KB("ethAddressOffset"),I.u8("ethAddressInstructionIndex"),I.KB("messageDataOffset"),I.KB("messageDataSize"),I.u8("messageInstructionIndex"),I.Ik(20,"ethAddress"),I.Ik(64,"signature"),I.u8("recoveryId")]);(function(){function e(){(0,a.Z)(this,e)}return(0,o.Z)(e,null,[{key:"publicKeyToEthAddress",value:function(e){D(64===e.length,"Public key must be ".concat(64," bytes but received ").concat(e.length," bytes"));try{return s.Buffer.from((0,R.fr)(E(e))).slice(-20)}catch(e){throw Error("Error constructing Ethereum address: ".concat(e))}}},{key:"createInstructionWithPublicKey",value:function(t){var r=t.publicKey,n=t.message,i=t.signature,a=t.recoveryId,o=t.instructionIndex;return e.createInstructionWithEthAddress({ethAddress:e.publicKeyToEthAddress(r),message:n,signature:i,recoveryId:a,instructionIndex:o})}},{key:"createInstructionWithEthAddress",value:function(t){var r,n=t.ethAddress,i=t.message,a=t.signature,o=t.recoveryId,u=t.instructionIndex,c=void 0===u?0:u;D(20===(r="string"==typeof n?n.startsWith("0x")?s.Buffer.from(n.substr(2),"hex"):s.Buffer.from(n,"hex"):n).length,"Address must be ".concat(20," bytes but received ").concat(r.length," bytes"));var l=12+r.length,d=l+a.length+1,f=s.Buffer.alloc(ts.span+i.length);return ts.encode({numSignatures:1,signatureOffset:l,signatureInstructionIndex:c,ethAddressOffset:12,ethAddressInstructionIndex:c,messageDataOffset:d,messageDataSize:i.length,messageInstructionIndex:c,signature:E(a),ethAddress:E(r),recoveryId:o},f),f.fill(E(i),ts.span),new en({keys:[],programId:e.programId,data:f})}},{key:"createInstructionWithPrivateKey",value:function(e){var t=e.privateKey,r=e.message,n=e.instructionIndex;D(32===t.length,"Private key must be ".concat(32," bytes but received ").concat(t.length," bytes"));try{var i=E(t),a=to(i,!1).slice(1),o=s.Buffer.from((0,R.fr)(E(r))),u=ta(o,i),c=(0,S.Z)(u,2),l=c[0],d=c[1];return this.createInstructionWithPublicKey({publicKey:a,message:r,signature:l,recoveryId:d,instructionIndex:n})}catch(e){throw Error("Error creating instruction; ".concat(e))}}}]),e})().programId=new G("KeccakSecp256k11111111111111111111111111111");var tu=new G("StakeConfig11111111111111111111111111111111"),tc=(0,o.Z)(function e(t,r,n){(0,a.Z)(this,e),this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=t,this.epoch=r,this.custodian=n});tc.default=new tc(0,0,G.default);var tl=Object.freeze({Initialize:{index:0,layout:I.n_([I.Jq("instruction"),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"authorized";return I.n_([L("staker"),L("withdrawer")],e)}(),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"lockup";return I.n_([I.gM("unixTimestamp"),I.gM("epoch"),L("custodian")],e)}()])},Authorize:{index:1,layout:I.n_([I.Jq("instruction"),L("newAuthorized"),I.Jq("stakeAuthorizationType")])},Delegate:{index:2,layout:I.n_([I.Jq("instruction")])},Split:{index:3,layout:I.n_([I.Jq("instruction"),I.gM("lamports")])},Withdraw:{index:4,layout:I.n_([I.Jq("instruction"),I.gM("lamports")])},Deactivate:{index:5,layout:I.n_([I.Jq("instruction")])},Merge:{index:7,layout:I.n_([I.Jq("instruction")])},AuthorizeWithSeed:{index:8,layout:I.n_([I.Jq("instruction"),L("newAuthorized"),I.Jq("stakeAuthorizationType"),M("authoritySeed"),L("authorityOwner")])}});Object.freeze({Staker:{index:0},Withdrawer:{index:1}});var td=function(){function e(){(0,a.Z)(this,e)}return(0,o.Z)(e,null,[{key:"initialize",value:function(e){var t=e.stakePubkey,r=e.authorized,n=e.lockup||tc.default,i=ed(tl.Initialize,{authorized:{staker:E(r.staker.toBuffer()),withdrawer:E(r.withdrawer.toBuffer())},lockup:{unixTimestamp:n.unixTimestamp,epoch:n.epoch,custodian:E(n.custodian.toBuffer())}}),a={keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:es,isSigner:!1,isWritable:!1}],programId:this.programId,data:i};return new en(a)}},{key:"createAccountWithSeed",value:function(e){var t=new ei;t.add(eg.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:this.space,programId:this.programId}));var r=e.stakePubkey,n=e.authorized,i=e.lockup;return t.add(this.initialize({stakePubkey:r,authorized:n,lockup:i}))}},{key:"createAccount",value:function(e){var t=new ei;t.add(eg.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,lamports:e.lamports,space:this.space,programId:this.programId}));var r=e.stakePubkey,n=e.authorized,i=e.lockup;return t.add(this.initialize({stakePubkey:r,authorized:n,lockup:i}))}},{key:"delegate",value:function(e){var t=e.stakePubkey,r=e.authorizedPubkey,n=e.votePubkey,i=ed(tl.Delegate);return new ei().add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:ea,isSigner:!1,isWritable:!1},{pubkey:eu,isSigner:!1,isWritable:!1},{pubkey:tu,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:i})}},{key:"authorize",value:function(e){var t=e.stakePubkey,r=e.authorizedPubkey,n=e.newAuthorizedPubkey,i=e.stakeAuthorizationType,a=e.custodianPubkey,o=ed(tl.Authorize,{newAuthorized:E(n.toBuffer()),stakeAuthorizationType:i.index}),s=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:ea,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}];return a&&s.push({pubkey:a,isSigner:!1,isWritable:!1}),new ei().add({keys:s,programId:this.programId,data:o})}},{key:"authorizeWithSeed",value:function(e){var t=e.stakePubkey,r=e.authorityBase,n=e.authoritySeed,i=e.authorityOwner,a=e.newAuthorizedPubkey,o=e.stakeAuthorizationType,s=e.custodianPubkey,u=ed(tl.AuthorizeWithSeed,{newAuthorized:E(a.toBuffer()),stakeAuthorizationType:o.index,authoritySeed:n,authorityOwner:E(i.toBuffer())}),c=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1},{pubkey:ea,isSigner:!1,isWritable:!1}];return s&&c.push({pubkey:s,isSigner:!1,isWritable:!1}),new ei().add({keys:c,programId:this.programId,data:u})}},{key:"splitInstruction",value:function(e){var t=e.stakePubkey,r=e.authorizedPubkey,n=e.splitStakePubkey,i=e.lamports,a=ed(tl.Split,{lamports:i});return new en({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:a})}},{key:"split",value:function(e){var t=new ei;return t.add(eg.createAccount({fromPubkey:e.authorizedPubkey,newAccountPubkey:e.splitStakePubkey,lamports:0,space:this.space,programId:this.programId})),t.add(this.splitInstruction(e))}},{key:"splitWithSeed",value:function(e){var t=e.stakePubkey,r=e.authorizedPubkey,n=e.splitStakePubkey,i=e.basePubkey,a=e.seed,o=e.lamports,s=new ei;return s.add(eg.allocate({accountPubkey:n,basePubkey:i,seed:a,space:this.space,programId:this.programId})),s.add(this.splitInstruction({stakePubkey:t,authorizedPubkey:r,splitStakePubkey:n,lamports:o}))}},{key:"merge",value:function(e){var t=e.stakePubkey,r=e.sourceStakePubKey,n=e.authorizedPubkey,i=ed(tl.Merge);return new ei().add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:ea,isSigner:!1,isWritable:!1},{pubkey:eu,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:i})}},{key:"withdraw",value:function(e){var t=e.stakePubkey,r=e.authorizedPubkey,n=e.toPubkey,i=e.lamports,a=e.custodianPubkey,o=ed(tl.Withdraw,{lamports:i}),s=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:ea,isSigner:!1,isWritable:!1},{pubkey:eu,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return a&&s.push({pubkey:a,isSigner:!1,isWritable:!1}),new ei().add({keys:s,programId:this.programId,data:o})}},{key:"deactivate",value:function(e){var t=e.stakePubkey,r=e.authorizedPubkey,n=ed(tl.Deactivate);return new ei().add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:ea,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:n})}}]),e}();td.programId=new G("Stake11111111111111111111111111111111111111"),td.space=200;var tf=Object.freeze({InitializeAccount:{index:0,layout:I.n_([I.Jq("instruction"),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"voteInit";return I.n_([L("nodePubkey"),L("authorizedVoter"),L("authorizedWithdrawer"),I.u8("commission")],e)}()])},Authorize:{index:1,layout:I.n_([I.Jq("instruction"),L("newAuthorized"),I.Jq("voteAuthorizationType")])},Withdraw:{index:3,layout:I.n_([I.Jq("instruction"),I.gM("lamports")])},AuthorizeWithSeed:{index:10,layout:I.n_([I.Jq("instruction"),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"voteAuthorizeWithSeedArgs";return I.n_([I.Jq("voteAuthorizationType"),L("currentAuthorityDerivedKeyOwnerPubkey"),M("currentAuthorityDerivedKeySeed"),L("newAuthorized")],e)}()])}});Object.freeze({Voter:{index:0},Withdrawer:{index:1}});var ty=function(){function e(){(0,a.Z)(this,e)}return(0,o.Z)(e,null,[{key:"initializeAccount",value:function(e){var t=e.votePubkey,r=e.nodePubkey,n=e.voteInit,i=ed(tf.InitializeAccount,{voteInit:{nodePubkey:E(n.nodePubkey.toBuffer()),authorizedVoter:E(n.authorizedVoter.toBuffer()),authorizedWithdrawer:E(n.authorizedWithdrawer.toBuffer()),commission:n.commission}}),a={keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:es,isSigner:!1,isWritable:!1},{pubkey:ea,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:i};return new en(a)}},{key:"createAccount",value:function(e){var t=new ei;return t.add(eg.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.votePubkey,lamports:e.lamports,space:this.space,programId:this.programId})),t.add(this.initializeAccount({votePubkey:e.votePubkey,nodePubkey:e.voteInit.nodePubkey,voteInit:e.voteInit}))}},{key:"authorize",value:function(e){var t=e.votePubkey,r=e.authorizedPubkey,n=e.newAuthorizedPubkey,i=e.voteAuthorizationType,a=ed(tf.Authorize,{newAuthorized:E(n.toBuffer()),voteAuthorizationType:i.index}),o=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:ea,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return new ei().add({keys:o,programId:this.programId,data:a})}},{key:"authorizeWithSeed",value:function(e){var t=e.currentAuthorityDerivedKeyBasePubkey,r=e.currentAuthorityDerivedKeyOwnerPubkey,n=e.currentAuthorityDerivedKeySeed,i=e.newAuthorizedPubkey,a=e.voteAuthorizationType,o=e.votePubkey,s=ed(tf.AuthorizeWithSeed,{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:E(r.toBuffer()),currentAuthorityDerivedKeySeed:n,newAuthorized:E(i.toBuffer()),voteAuthorizationType:a.index}}),u=[{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:ea,isSigner:!1,isWritable:!1},{pubkey:t,isSigner:!0,isWritable:!1}];return new ei().add({keys:u,programId:this.programId,data:s})}},{key:"withdraw",value:function(e){var t=e.votePubkey,r=e.authorizedWithdrawerPubkey,n=e.lamports,i=e.toPubkey,a=ed(tf.Withdraw,{lamports:n});return new ei().add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:a})}},{key:"safeWithdraw",value:function(t,r,n){if(t.lamports>r-n)throw Error("Withdraw will leave vote account with insuffcient funds.");return e.withdraw(t)}}]),e}();ty.programId=new G("Vote111111111111111111111111111111111111111"),ty.space=3731,new G("Va1idator1nfo111111111111111111111111111111"),(0,P.dt)({name:(0,P.Z_)(),website:(0,P.jt)((0,P.Z_)()),details:(0,P.jt)((0,P.Z_)()),keybaseUsername:(0,P.jt)((0,P.Z_)())}),new G("Vote111111111111111111111111111111111111111"),I.n_([L("nodePubkey"),L("authorizedWithdrawer"),I.u8("commission"),I._O(),I.A9(I.n_([I._O("slot"),I.Jq("confirmationCount")]),I.cv(I.Jq(),-8),"votes"),I.u8("rootSlotValid"),I._O("rootSlot"),I._O(),I.A9(I.n_([I._O("epoch"),L("authorizedVoter")]),I.cv(I.Jq(),-8),"authorizedVoters"),I.n_([I.A9(I.n_([L("authorizedPubkey"),I._O("epochOfLastAuthorizedSwitch"),I._O("targetEpoch")]),32,"buf"),I._O("idx"),I.u8("isEmpty")],"priorVoters"),I._O(),I.A9(I.n_([I._O("epoch"),I._O("credits"),I._O("prevCredits")]),I.cv(I.Jq(),-8),"epochCredits"),I.n_([I._O("slot"),I._O("timestamp")],"lastTimestamp")])}}]);